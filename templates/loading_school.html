{% extends "base.html" %}
{% block title %}Generating Study Plan...{% endblock %}

{% block content %}
<div class="theme-school">
  <div class="min-h-screen flex flex-col items-center justify-center px-4 text-center bg-[var(--color-bg)]">
    <div class="animate-spin rounded-full h-16 w-16 border-b-4 border-[var(--color-accent)] mb-6"></div>

    <h1 class="text-3xl font-bold text-[var(--color-accent-dark)] mb-4">Creating Your Study Plan...</h1>
    <p class="text-[var(--color-text)] text-lg mb-2">Topic: <strong>{{ topic }}</strong></p>
    <p class="text-[var(--color-text)] text-lg mb-2">Audience: <strong>{{ demographic }}</strong></p>

    <p class="text-[var(--color-muted)] mt-4 text-sm italic" id="loading-message">Analyzing your topic...</p>
  </div>

  <script>
    const messages = [
      "Analyzing your topic...",
      "Planning your summary...",
      "Drafting quiz & examples...",
      "Formatting your content...",
      "Almost done!"
    ];
    let i = 0;
    setInterval(() => {
      document.getElementById("loading-message").textContent = messages[i % messages.length];
      i++;
    }, 2000);

    setTimeout(() => {
      window.location.href = "/generate-school-newsletter";
    }, 2500);
  </script>
</div>
{% endblock %}
